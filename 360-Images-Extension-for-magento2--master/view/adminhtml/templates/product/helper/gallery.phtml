<?php

/**
 * Codilar Technologies Pvt. Ltd.
 * @package   Image360
 * @copyright   Copyright (c) 2016 Codilar. (http://www.codilar.com)
 * @author       Codilar Team
 **/

/** @var $block \Codilar\Image360\Block\Adminhtml\Product\Helper\Form\Gallery\Content */
$elementName = $block->getElement()->getName();
?>
<div id="<?php echo $block->getHtmlId() ?>"
     class='gallery'
     data-mage-init='{"Codilar_Image360/js/image360-gallery-20x":{"template":"#<?php echo $block->getHtmlId() ?>-template"}}'
     data-images="<?php echo $block->escapeHtml($block->getImagesJson()) ?>"
    >
    <?php if (!$block->getElement()->getReadonly()) { ?>
        <div class="image image-placeholder">
            <?php echo $block->getUploaderHtml(); ?>
            <img class="spacer" src="<?php echo $block->getViewFileUrl('images/spacer.gif')?>"/>
            <p class="image-placeholder-text"><?php  echo __('Click here or drag and drop to add images.'); ?></p>
        </div>
    <?php } ?>
    <script id="<?php echo $block->getHtmlId() ?>-template" type="text/x-magento-template">
        <div class="image item" data-role="image360image">
            <input type="hidden" name="<?php  echo $elementName ?>[<%- data.file_id %>][position]" value="<%- data.position %>" class="position"/>
            <input type="hidden" name="<?php echo $elementName ?>[<%- data.file_id %>][file]" value="<%- data.file %>"/>
            <input type="hidden" name="<?php  echo $elementName ?>[<%- data.file_id %>][id]" value="<%- data.id %>"/>
            <input type="hidden" name="<?php  echo $elementName ?>[<%- data.file_id %>][removed]" value="" class="is-removed"/>
            <input type="hidden" name="<?php  echo $elementName ?>[<%- data.file_id %>][name]" value="<%- data.name %>"/>
            <img class="spacer" src="<?php  echo $block->getViewFileUrl('images/spacer.gif')?>"/>
            <img class="product-image" src="<%- data.url %>" alt="<%- data.file %>"/>
            <div class="actions" >
                <button type="button" class="action-delete" data-role="delete-button" title="<?php echo __('Delete image') ?>">
                    <span> <?php  echo __('Delete image') ?></span >
                </button>
                <div class="draggable-handle" ></div >
            </div >
        </div>
    </script>
</div>
